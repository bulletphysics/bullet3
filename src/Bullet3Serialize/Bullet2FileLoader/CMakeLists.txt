SET(Bullet2FileLoader_SRCS
	b3BulletFile.cpp
	b3Chunk.cpp
	b3DNA.cpp
	b3File.cpp
	b3Serializer.cpp
)

SET(Bullet2FileLoader_HDRS
	Bullet2FileLoaderApi.h
	b3BulletFile.h
	b3Chunk.h
	b3Common.h
	b3Defines.h
	b3DNA.h
	b3File.h
	b3Serializer.h
	autogenerated/bullet2.h
)

ADD_LIBRARY(Bullet2FileLoader ${Bullet2FileLoader_SRCS} ${Bullet2FileLoader_HDRS})
TARGET_INCLUDE_DIRECTORIES(Bullet2FileLoader PUBLIC
	"$<BUILD_INTERFACE:${BULLET_PHYSICS_SOURCE_DIR}/src>"
	"$<INSTALL_INTERFACE:${BULLET_INSTALL_INCLUDEDIR}>")
TARGET_LINK_LIBRARIES(Bullet2FileLoader PUBLIC Bullet3Common BulletInterface)
SET_TARGET_PROPERTIES(Bullet2FileLoader PROPERTIES VERSION ${BULLET_VERSION})
SET_TARGET_PROPERTIES(Bullet2FileLoader PROPERTIES SOVERSION ${BULLET_VERSION})

IF(APPLE AND BUILD_SHARED_LIBS AND FRAMEWORK)
	BULLET3_INSTALL(TARGETS Bullet2FileLoader EXPORT BulletLibsExport DESTINATION .)

	SET_TARGET_PROPERTIES(Bullet2FileLoader PROPERTIES FRAMEWORK ON)
	SET_TARGET_PROPERTIES(Bullet2FileLoader PROPERTIES PUBLIC_HEADER "${Bullet2FileLoader_HDRS}")
ELSE()
	BULLET3_INSTALL(TARGETS Bullet2FileLoader EXPORT BulletLibsExport
		RUNTIME DESTINATION ${BULLET_INSTALL_BINDIR}
		LIBRARY DESTINATION ${BULLET_INSTALL_LIBDIR}
		ARCHIVE DESTINATION ${BULLET_INSTALL_LIBDIR})
	BULLET3_INSTALL(DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}
		DESTINATION ${BULLET_INSTALL_INCLUDEDIR} FILES_MATCHING PATTERN "*.h" PATTERN "CMakeFiles" EXCLUDE)
ENDIF()
