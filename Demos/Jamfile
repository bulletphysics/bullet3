SubDir TOP Demos ;

SubInclude TOP Demos OpenGL ;

if $(GLUT.AVAILABLE) = "yes"
{
  # All demo apps have a lot in common, so use this rule to simply things
  rule BulletDemo
  {
    Application $(<) : $(>) : noinstall console nomanifest ;
    LinkWith $(<) :  bulletopenglsupport bulletdynamics bulletcollision bulletmath ;
    CFlags $(<) : 
	  [ FIncludes $(TOP)/Demos/OpenGL ] 
    ;
    MsvcIncDirs $(<) : 
	"../../Demos/OpenGL" 
	"../../src" ;
  }
}

 rule BulletBasicDemo
  {
    Application $(<) : $(>) : noinstall console nomanifest ;
    LinkWith $(<) :  bulletcollision  bulletmath ;
    CFlags $(<) :
          [ FIncludes $(TOP)/src ]
           ;
    MsvcIncDirs $(<) :
        "../../src" ;
  }

if $(GLUT.AVAILABLE) = "yes"
{
  # All demo apps have a lot in common, so use this rule to simply things
  rule FrameWorkDemo
  {
    Application $(<) : $(>) : noinstall console nomanifest ;
    LinkWith $(<) :  GIMPACTUtils  GIMPACT  bulletopenglsupport convexdecomposition bulletdynamics bulletcollision bulletmath glui ;
    CFlags $(<) :
          [ FIncludes $(TOP)/Extras ]
         [ FIncludes $(TOP)/Demos/OpenGL ]
	[ FIncludes $(TOP)/Extras/ConvexDecomposition ]
	  [ FIncludes $(TOP)/Extras/GIMPACT/include ]
          [ FIncludes $(TOP)/Extras/GIMPACTUtils ]
    ;
    MsvcIncDirs $(<) :
        "../../Extras"
        "../../src"
        "../../Demos/OpenGL"
	"../../Extras/ConvexDecomposition"
	"../../Extras/GIMPACT/include"
        "../../Extras/GIMPACTUtils"
;

  }
}

SubInclude TOP Demos AllBulletDemos ;
SubInclude TOP Demos CcdPhysicsDemo ;
SubInclude TOP Demos UserCollisionAlgorithm ;
#SubInclude TOP Demos ForkLiftDemo ;
SubInclude TOP Demos BulletDinoDemo ;
SubInclude TOP Demos EPAPenDepthDemo ;
SubInclude TOP Demos BspDemo ;
SubInclude TOP Demos BasicDemo ;
SubInclude TOP Demos ConvexDecompositionDemo ;
SubInclude TOP Demos ColladaDemo ;
SubInclude TOP Demos VehicleDemo ;
SubInclude TOP Demos CollisionDemo ;
SubInclude TOP Demos CollisionInterfaceDemo ;
SubInclude TOP Demos GimpactTestDemo ;
SubInclude TOP Demos MovingConcaveDemo ;
SubInclude TOP Demos ConcaveDemo ;
SubInclude TOP Demos ConstraintDemo ;
SubInclude TOP Demos RagdollDemo ;
SubInclude TOP Demos GenericJointDemo ;
SubInclude TOP Demos ContinuousConvexCollision ;
SubInclude TOP Demos GjkConvexCastDemo ;
SubInclude TOP Demos Raytracer ;
SubInclude TOP Demos SimplexDemo ;
SubInclude TOP Demos DoublePrecisionDemo ;

